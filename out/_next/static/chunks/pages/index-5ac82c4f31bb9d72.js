(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{6760:(e,l,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7124)}])},7124:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>i});var t=r(7876),n=r(4232);function a(e){let{children:l,onClick:r,variant:n="secondary"}=e;return(0,t.jsx)("button",{onClick:r,className:"shadow-xl rounded-lg w-full cursor-pointer ".concat({primary:"bg-blue-300 hover:bg-blue-400 active:bg-blue-500",secondary:"bg-gray-300 hover:bg-gray-400 active:bg-gray-500"}[n]),children:l})}var c=r(3028),o=r.n(c);function s(e){let{children:l,ref:r}=e;return(0,t.jsx)("dialog",{ref:r,className:"shadow-lg rounded-lg w-[90%] max-w-[400px] fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,t.jsxs)("div",{className:"flex flex-col gap-5 bg-gray-100 p-5",children:[l,(0,t.jsx)(a,{onClick:()=>{var e;null==(e=r.current)||e.close()},children:"閉じる"})]})})}function u(e){let{onClick:l,backgroundColor:r,textColor:n}=e;return(0,t.jsx)("button",{onClick:l,className:"shadow-lg rounded-lg h-15 cursor-pointer p-5 ".concat(r," ").concat(n),children:"テキスト"})}function i(){let[e,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[i,d]=(0,n.useState)(null),[g,x]=(0,n.useState)(void 0),[h,f]=(0,n.useState)(void 0),b=(0,n.useRef)(null),w=(0,n.useRef)(null),p=(0,n.useRef)(null),k=(0,n.useRef)(null);(0,n.useEffect)(()=>{},[]);let j=async()=>{var e;b.current&&(l(!0),await new Promise(e=>setTimeout(e,0)),c((await o()(b.current)).toDataURL("image/png")),l(!1),null==(e=w.current)||e.showModal())};return(0,t.jsxs)("main",{className:"flex flex-col h-screen bg-white dark:bg-black",children:[(0,t.jsx)("div",{className:"flex-grow flex justify-center p-5",children:(0,t.jsx)("div",{ref:b,className:"flex flex-col gap-4 justify-around aspect-[9/19.5] p-5 rounded-lg ".concat(e?"":"border-2 border-gray-700 shadow-md"),style:{backgroundColor:g,backgroundImage:e?void 0:i?"url(".concat(i,")"):void 0,backgroundSize:"cover",backgroundPosition:"center"},children:(0,t.jsx)("input",{type:"text",className:"w-full p-1 text-center ".concat(e?"":"border-2 border-blue-400 focus:border-blue-500 focus:outline-none rounded-lg shadow-md"," ").concat(h),style:{fontSize:"1.1rem"},placeholder:"メモを入力してください"})})}),(0,t.jsxs)("div",{className:"h-15 flex justify-around gap-2 m-3",children:[(0,t.jsx)(a,{onClick:()=>{alert("解像度変更")},children:"解像度"}),(0,t.jsx)(a,{onClick:()=>{if(i)d(null);else{var e;null==(e=k.current)||e.click()}},children:"下敷き"}),(0,t.jsx)(a,{onClick:()=>{var e;null==(e=p.current)||e.showModal()},children:"背景色"}),(0,t.jsx)(a,{onClick:j,variant:"primary",children:"画像化"})]}),(0,t.jsx)(s,{ref:w,children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:r,alt:"キャプチャ画像",className:"shadow-lg rounded-lg"}),(0,t.jsx)("p",{className:"text-center text-blue-600",children:"画像を長押しして保存してください"})]}):(0,t.jsx)("p",{children:"画像を読み込み中です"})}),(0,t.jsxs)(s,{ref:p,children:[(0,t.jsx)(u,{backgroundColor:"bg-white hover:bg-gray-100 active:bg-gray-200",textColor:"text-black",onClick:()=>{var e;x("white"),f("text-black"),null==(e=p.current)||e.close()}}),(0,t.jsx)(u,{backgroundColor:"bg-black",textColor:"text-white",onClick:()=>{var e;x("black"),f("text-white"),null==(e=p.current)||e.close()}}),(0,t.jsx)(u,{backgroundColor:"bg-red-500",textColor:"text-white",onClick:()=>{var e;x("#ef4444"),f("text-white"),null==(e=p.current)||e.close()}})]}),(0,t.jsx)("input",{type:"file",accept:"image/*",ref:k,className:"hidden",onChange:e=>{var l;let r=null==(l=e.target.files)?void 0:l[0];if(!r)return;let t=new FileReader;t.onload=()=>{"string"==typeof t.result&&d(t.result)},t.readAsDataURL(r)}})]})}}},e=>{e.O(0,[366,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);